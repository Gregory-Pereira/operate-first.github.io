{"componentChunkName":"component---src-templates-markdown-remark-js","path":"/hitchhikers-guide/apps/docs/content/odh/jupyterhub/increase_pvc_size_jh.md","result":{"data":{"site":{"siteMetadata":{"title":"Operate First"}},"markdownRemark":{"id":"053783db-e8dd-545e-bace-b7a1bf716ee4","html":"<h1 id=\"increase-pvc-size-for-jupyterhub\" style=\"position:relative;\"><a href=\"#increase-pvc-size-for-jupyterhub\" aria-label=\"increase pvc size for jupyterhub permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Increase PVC size for JupyterHub</h1>\n<p>When you first log in to JupyterHub, a PVC is automatically provisioned for you on the Smaug cluster. This PVC however, is not tracked in git, so we will need to first add it to git, before we increase the size. If your PVC has already been added to git (likely because you have had its size increased before already), then you can skip the creation portion.</p>\n<h2 id=\"add-pvc-to-github\" style=\"position:relative;\"><a href=\"#add-pvc-to-github\" aria-label=\"add pvc to github permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Add pvc to GitHub</h2>\n<p>Create a PVC in <code class=\"language-text\">kfdefs/overlays/moc/smaug/opf-jupyterhub/pvcs</code>, use the following syntax to name it: <code class=\"language-text\">&lt;your_github_handle&gt;.yaml</code>. Populate this file as follows:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">---</span>\n<span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> PersistentVolumeClaim\n<span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> v1\n<span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">annotations</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">hub.jupyter.org/username</span><span class=\"token punctuation\">:</span> &lt;YOUR_OCP_USERNAME<span class=\"token punctuation\">></span> <span class=\"token comment\"># Your github user handle</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> name\n  <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">app</span><span class=\"token punctuation\">:</span> jupyterhub\n    <span class=\"token key atrule\">component</span><span class=\"token punctuation\">:</span> singleuser<span class=\"token punctuation\">-</span>storage\n<span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">requests</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">storage</span><span class=\"token punctuation\">:</span> &lt;YOUR_PREFERRED_SIZE<span class=\"token punctuation\">></span> <span class=\"token comment\"># e.g. 10Gi</span></code></pre></div>\n<blockquote>\n<p>Note: if your PVC already exists, simply increase the <code class=\"language-text\">spec.resources.requests.storage</code> value as needed</p>\n</blockquote>\n<p>Add this filename to the <code class=\"language-text\">kustomization.yaml</code> located at: <code class=\"language-text\">kfdefs/overlays/moc/smaug/opf-jupyterhub/pvcs/kustomization.yaml</code></p>\n<p>Commit your changes and make a PR, once merged ArgoCD will deploy the changes and you should then see an increase in your storage. You can verify your changes by following the instructions <a href=\"analyze_storage.md\">here</a>.</p>","fields":{"srcLink":"https://github.com/operate-first/apps/blob/master/docs/content/odh/jupyterhub/increase_pvc_size_jh.md"},"frontmatter":{"title":"","description":null,"extraClasses":null,"banner":null}}},"pageContext":{"id":"053783db-e8dd-545e-bace-b7a1bf716ee4"}},"staticQueryHashes":["117426894","1764348645","3000541721","3606484676"]}