{"componentChunkName":"component---src-templates-markdown-remark-js","path":"/data-science/data-skipping/site/docs/api/encryption.md","result":{"data":{"site":{"siteMetadata":{"title":"Operate First"}},"markdownRemark":{"id":"a98e1e35-6bdd-5c5e-a17e-005d2ed26ace","html":"<!--\n -- Copyright 2021 IBM Corp.\n -- SPDX-License-Identifier: Apache-2.0\n -->\n<h1 id=\"encrypting-indexes\" style=\"position:relative;\"><a href=\"#encrypting-indexes\" aria-label=\"encrypting indexes permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Encrypting Indexes</h1>\n<p>When using Parquet Metadata Store, The metadata can\noptionally be encrypted using Parquet Modular Encryption (PME).\nThis is achieved since the metadata itself is stored as a Parquet dataset,\nand thus PME can be used to encrypt it.\nThis feature applies to all input formats, for example, a dataset stored\nin CSV format can have its metadata encrypted using PME.</p>\n<p>!!! note\nIn the following sections, unless said otherwise, when referring\nto footers, columns etc., these are with respect to the metadata objects,\nand not the objects in the indexed dataset.</p>\n<h2 id=\"modularity\" style=\"position:relative;\"><a href=\"#modularity\" aria-label=\"modularity permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Modularity</h2>\n<p>Index Encryption is modular and is granular in the following way:</p>\n<ul class=\"pf-c-list\">\n<li>Each Index can either be encrypted (with a per-index key granularity) or left plaintext.</li>\n<li>\n<p>Footer + object name column + partition key values:</p>\n<ul class=\"pf-c-list\">\n<li>\n<p>The footer of the metadata object (in itself a Parquet file) contains (among other things):</p>\n<ul class=\"pf-c-list\">\n<li>Schema of the metadata object, which reveals the types, parameters and column names for\nall indexes collected (for example, one can learn that a Bloom Filter Index is defined on column\n<code class=\"language-text\">city</code> with false-positive probability <code class=\"language-text\">0.1</code>)</li>\n<li>Full path of the original dataset (or table name in case of a Hive Metastore table)</li>\n</ul>\n</li>\n<li>The object name column stores the names of all indexed objects, and their\nmodification timestamps at indexing time.</li>\n<li>The partition key values (for example, when Hive Style partitioning is used in the indexed dataset)\nare automatically stored by Xskipper, each virtual column in its own dedicated column.</li>\n</ul>\n</li>\n</ul>\n<p>The footer + object name column + partition columns are encrypted using the same key - “the footer key”,\nunless Plaintext footer is specified, in that case the object name column and the partition\ncolumns will still be encrypted, but the footer itself will be left plaintext (that is,\nthe plaintext footer mode of PME will be activated).\nIf at least 1 index is encrypted then the footer key must be set.</p>\n<h2 id=\"usage-flow\" style=\"position:relative;\"><a href=\"#usage-flow\" aria-label=\"usage flow permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Usage Flow</h2>\n<p>!!! danger\nWhen using index encryption, whenever a “key” is configured in any Xskipper API,\nit’s always the label - <strong>NEVER</strong> the key itself.</p>\n<h3 id=\"index-creation-flow\" style=\"position:relative;\"><a href=\"#index-creation-flow\" aria-label=\"index creation flow permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Index Creation Flow</h3>\n<center>\n![Encrypted Index Creation Flow](../img/encryption_index_creation_flow.svg)\n</center>\n<h3 id=\"query-flow\" style=\"position:relative;\"><a href=\"#query-flow\" aria-label=\"query flow permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Query Flow</h3>\n<center>\n![Encrypted Index Query Flow](../img/encryption_query_flow.svg)\n</center>\n<h3 id=\"index-refresh-flow\" style=\"position:relative;\"><a href=\"#index-refresh-flow\" aria-label=\"index refresh flow permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Index Refresh Flow</h3>\n<center>\n![Encrypted Index Refresh Flow](../img/encryption_refresh_flow.svg)\n</center>","fields":{"srcLink":"https://github.com/xskipper-io/xskipper/blob/master/site/docs/api/encryption.md"},"frontmatter":{"title":"","description":null,"extraClasses":null,"banner":null}}},"pageContext":{"id":"a98e1e35-6bdd-5c5e-a17e-005d2ed26ace"}},"staticQueryHashes":["1764348645","2823140819","3000541721","3606484676"]}